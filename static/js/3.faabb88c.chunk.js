(this["webpackJsonparena-data-parser"]=this["webpackJsonparena-data-parser"]||[]).push([[3],{239:function(e,t,n){"use strict";n.r(t),n.d(t,"SettingsModalContext",(function(){return k}));var a=n(4),l=n(0),c=n.n(l),r=n(10),s=n(113);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var u=l.createElement("path",{d:"M41,14H7a2,2,0,0,1,0-4H41A2,2,0,0,1,41,14Z",fill:"#d0d4cf"}),b=l.createElement("path",{d:"M41,26H7a2,2,0,0,1,0-4H41A2,2,0,0,1,41,26Z",fill:"#d0d4cf"}),d=l.createElement("path",{d:"M41,38H7a2,2,0,0,1,0-4H41A2,2,0,0,1,41,38Z",fill:"#d0d4cf"});function j(e,t){var n=e.title,a=e.titleId,c=i(e,["title","titleId"]);return l.createElement("svg",o({width:"48px",height:"48px",viewBox:"0 0 48 48",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":a},c),n?l.createElement("title",{id:a},n):null,u,b,d)}var v=l.forwardRef(j),f=(n.p,n(1)),O=function(e){var t=e.children,n=e.modalToggled,c=Object(l.useState)(!1),o=Object(a.a)(c,2),i=o[0],u=o[1],b=function(){u((function(e){return!e}))};Object(l.useEffect)((function(){n&&b()}),[n]);var d=Object(s.useSwipeable)({onSwipedLeft:function(e){!function(e){void 0!==e&&Math.abs(e)>80&&b()}(e.deltaX)}}),j=i?"isOpen":"";return Object(f.jsxs)("div",{className:"drawer ".concat(j),children:[Object(f.jsx)("button",{className:"drawer__button",onClick:b,children:Object(f.jsx)(v,{})}),Object(f.jsxs)("div",{className:"drawer__overlay",children:[Object(f.jsx)("div",Object(r.a)(Object(r.a)({},d),{},{onClick:b,className:"drawer__backdrop"})),Object(f.jsx)("div",Object(r.a)(Object(r.a)({},d),{},{className:"drawer__body",children:t}))]})]})},m=n(7),p=n(19),g=n(16),h=function(e){var t=e.buttonLabels.map((function(e,t){var n=Object(a.a)(e,2),l=n[0],c=n[1];return Object(f.jsx)(g.b,{className:"button-group__button",to:c,children:l},t)}));return Object(f.jsx)("div",{className:"button-group",children:t})},x=n(102),w=function(e){var t=e.teams,n=e.onChange,c=Object(l.useState)(),r=Object(a.a)(c,2),s=r[0],o=r[1],i=Object(l.useMemo)((function(){return t.map((function(e){return{value:e,label:e}}))}),[t]),u=Object(l.useCallback)((function(e){o(e),n&&e&&n(e.value)}),[o,n]);return Object(l.useEffect)((function(){i.length&&o((function(e){return e?null:i[0]})),u(i[0])}),[t,i,u]),Object(f.jsx)(x.a,{className:"team-select",classNamePrefix:"team-select",options:i,value:s,onChange:u,menuPlacement:"auto"})},_=n(6),C=n(14),y=n.n(C),S=function(e){var t=e.sessionData,n=e.onChange,c=Object(l.useMemo)((function(){return{value:0,label:"All Sessions"}}),[]),r=Object(l.useState)([]),s=Object(a.a)(r,2),o=s[0],i=s[1],u=Object(l.useRef)(o);u.current=o;var b=Object(l.useMemo)((function(){return Object(_.a)(t.keys())}),[t]),d=Object(l.useMemo)((function(){return b.reduce((function(e,t,n){var a=y.a.unix(t).format("DD/MM/YY");return e.push({value:t,label:"Session ".concat(n+1," - ").concat(a)}),e}),[]).reverse()}),[b]),j=Object(l.useCallback)((function(){var e;return(null===u||void 0===u||null===(e=u.current)||void 0===e?void 0:e.length)===d.length}),[d.length]),v=Object(l.useCallback)((function(e,t){var a=[],l=t.action,r=t.option,s=t.removedValue;if("select-option"===l&&(null===r||void 0===r?void 0:r.value)===c.value)i(d),a.push.apply(a,Object(_.a)(d.map((function(e){return null===e||void 0===e?void 0:e.value}))));else if("deselect-option"===l&&(null===r||void 0===r?void 0:r.value)===c.value||"remove-value"===l&&(null===s||void 0===s?void 0:s.value)===c.value)i([]);else if("deselect-option"===t.action&&j()){var o=d.filter((function(e){return e.value!==(null===r||void 0===r?void 0:r.value)}));i(o),a.push.apply(a,Object(_.a)(o.map((function(e){return null===e||void 0===e?void 0:e.value}))))}else i(e||[]),a.push.apply(a,Object(_.a)(e.map((function(e){return null===e||void 0===e?void 0:e.value}))));n&&n(a)}),[j,n,d,c.value]);Object(l.useEffect)((function(){if(o.length){var e=!0;o.map((function(e){return null===e||void 0===e?void 0:e.value})).forEach((function(t){b.includes(t)||(e=!1)})),e||i([])}}),[o,b]),Object(l.useEffect)((function(){d.length&&i((function(e){return e?[]:[d[0]]})),v([d[0]],{action:"select-option",option:d[0]})}),[d,v]);var O=Object(l.useCallback)((function(){return j()?[c]:o}),[j,c,o]);return Object(f.jsx)(x.a,{placeholder:"Select session...",className:"session-select",classNamePrefix:"session-select",isOptionSelected:function(e){var t;return j()||(null===u||void 0===u||null===(t=u.current)||void 0===t?void 0:t.some((function(t){return t.value===e.value})))},options:[c].concat(Object(_.a)(d)),value:O(),onChange:v,hideSelectedOptions:!1,closeMenuOnSelect:!1,isMulti:!0,menuPlacement:"auto"})},E=n(240),k=c.a.createContext((function(){}));t.default=function(e){var t=e.myTeams,n=e.sessionData,c=e.setLocalStorageChanged,r=e.setMyTeamSelection,s=e.setSessionSelection,o=Object(l.useState)(!1),i=Object(a.a)(o,2),u=i[0],b=i[1];return Object(f.jsx)(k.Provider,{value:b,children:Object(f.jsxs)("div",{className:"toolbar",children:[Object(f.jsx)(O,{modalToggled:u,children:Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"drawer__filters-section",children:[t&&Object(f.jsx)(w,{onChange:r,teams:t}),Object(f.jsx)(h,{buttonLabels:m.a}),n&&Object(f.jsx)(S,{onChange:s,sessionData:n})]}),Object(f.jsxs)("div",{className:"drawer__top-btn-section",children:[Object(f.jsx)(E.default,{localStoreChangeHandler:c}),Object(f.jsx)(p.a,{localStoreChangeHandler:c})]})]})}),Object(f.jsxs)("div",{className:"toolbar__filters",children:[Object(f.jsx)(h,{buttonLabels:m.a}),t&&Object(f.jsx)(w,{onChange:r,teams:t}),n&&Object(f.jsx)(S,{onChange:s,sessionData:n})]})]})})}},240:function(e,t,n){"use strict";n.r(t);var a=n(4),l=n(0);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}function r(e,t){if(null==e)return{};var n,a,l=function(e,t){if(null==e)return{};var n,a,l={},c=Object.keys(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||(l[n]=e[n]);return l}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(a=0;a<c.length;a++)n=c[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(l[n]=e[n])}return l}var s=l.createElement("g",null,l.createElement("path",{d:"M245.63,103.39h-9.91c-2.486-9.371-6.197-18.242-10.955-26.432l7.015-7.015c6.546-6.546,6.546-17.159,0-23.705 l-15.621-15.621c-6.546-6.546-17.159-6.546-23.705,0l-7.015,7.015c-8.19-4.758-17.061-8.468-26.432-10.955v-9.914 C159.007,7.505,151.502,0,142.244,0h-22.091c-9.258,0-16.763,7.505-16.763,16.763v9.914c-9.37,2.486-18.242,6.197-26.431,10.954 l-7.016-7.015c-6.546-6.546-17.159-6.546-23.705,0.001L30.618,46.238c-6.546,6.546-6.546,17.159,0,23.705l7.014,7.014 c-4.758,8.19-8.469,17.062-10.955,26.433h-9.914c-9.257,0-16.762,7.505-16.762,16.763v22.09c0,9.258,7.505,16.763,16.762,16.763 h9.914c2.487,9.371,6.198,18.243,10.956,26.433l-7.015,7.015c-6.546,6.546-6.546,17.159,0,23.705l15.621,15.621 c6.546,6.546,17.159,6.546,23.705,0l7.016-7.016c8.189,4.758,17.061,8.469,26.431,10.955v9.913c0,9.258,7.505,16.763,16.763,16.763 h22.091c9.258,0,16.763-7.505,16.763-16.763v-9.913c9.371-2.487,18.242-6.198,26.432-10.956l7.016,7.017 c6.546,6.546,17.159,6.546,23.705,0l15.621-15.621c3.145-3.144,4.91-7.407,4.91-11.853s-1.766-8.709-4.91-11.853l-7.016-7.016 c4.758-8.189,8.468-17.062,10.955-26.432h9.91c9.258,0,16.763-7.505,16.763-16.763v-22.09 C262.393,110.895,254.888,103.39,245.63,103.39z M131.198,191.194c-33.083,0-59.998-26.915-59.998-59.997 c0-33.083,26.915-59.998,59.998-59.998s59.998,26.915,59.998,59.998C191.196,164.279,164.281,191.194,131.198,191.194z"}),l.createElement("path",{d:"M131.198,101.199c-16.541,0-29.998,13.457-29.998,29.998c0,16.54,13.457,29.997,29.998,29.997s29.998-13.457,29.998-29.997 C161.196,114.656,147.739,101.199,131.198,101.199z"})),o=l.createElement("g",null),i=l.createElement("g",null),u=l.createElement("g",null),b=l.createElement("g",null),d=l.createElement("g",null),j=l.createElement("g",null),v=l.createElement("g",null),f=l.createElement("g",null),O=l.createElement("g",null),m=l.createElement("g",null),p=l.createElement("g",null),g=l.createElement("g",null),h=l.createElement("g",null),x=l.createElement("g",null),w=l.createElement("g",null);function _(e,t){var n=e.title,a=e.titleId,_=r(e,["title","titleId"]);return l.createElement("svg",c({id:"Capa_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",fill:"#fe4e00",viewBox:"0 0 262.394 262.394",style:{enableBackground:"new 0 0 262.394 262.394"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},_),n?l.createElement("title",{id:a},n):null,s,o,i,u,b,d,j,v,f,O,m,p,g,h,x,w)}var C=l.forwardRef(_),y=(n.p,n(103)),S=n.n(y),E=n(8),k=n(2),N=n(1),M=function(e){var t=e.localStoreChangeHandler,n=e.toggleModal,c=Object(k.g)(),r=Object(l.useState)(!1),s=Object(a.a)(r,2),o=s[0],i=s[1],u=Object(l.useState)(!1),b=Object(a.a)(u,2),d=b[0],j=b[1],v=d?"clear-state-button clear-state-button--disabled settings-button":"clear-state-button settings-button";return Object(N.jsxs)("div",{className:"clear-state-button__wrap",children:[Object(N.jsx)("button",{className:v,onClick:function(){o||(i((function(e){return!e})),j(!0),setTimeout((function(){return j(!1)}),5e3)),o&&(i((function(e){return!e})),j(!1),n(),Object(E.b)(),t((function(e){return!e})),c("/",{replace:!1}))},disabled:d,children:o?"Yes, I'm sure":"Clear local storage"}),Object(N.jsx)("div",{className:"clear-state-button__text",children:o?"Are you sure?":"- Wipe all uploaded log data. Make sure to have backup."})]})};var L=n(14),D=n.n(L),H=function(){var e=Object(l.useState)(null),t=Object(a.a)(e,2),n=t[0],c=t[1],r=D()().format("DD/MM/YY");return Object(N.jsxs)("div",{className:"create-backup-btn__wrap",children:[Object(N.jsx)("button",{className:"create-backup-btn settings-button",onClick:function(){var e=window.localStorage.getItem(E.a);e&&function(e,t,n){var a=new Blob([e],{type:"text/plain"});null!==t&&window.URL.revokeObjectURL(t),n(window.URL.createObjectURL(a))}(e,n,c)},children:"Create Data Backup"}),n&&Object(N.jsx)("a",{className:"create-backup-btn__link",download:"ArenaLogBackup_".concat(r,".txt"),href:n,children:"Download Backup \ud83d\uddce"}),Object(N.jsx)("span",{className:"create-backup-btn__text",children:"- Download all logged data as text file."})]})},P=n(239);S.a.setAppElement("#root");t.default=function(e){var t=e.localStoreChangeHandler,n=Object(l.useState)(!1),c=Object(a.a)(n,2),r=c[0],s=c[1],o=Object(l.useContext)(P.SettingsModalContext),i=function(){s((function(e){return!e})),o&&o((function(e){return!e}))};return Object(N.jsxs)("div",{className:"settings-modal__container",children:[Object(N.jsx)("button",{className:"settings-modal__settings-btn",onClick:i,children:Object(N.jsxs)("div",{className:"settings-modal__settings-btn-content-wrap",children:[Object(N.jsx)("span",{children:"Settings"}),Object(N.jsx)(C,{})]})}),Object(N.jsxs)(S.a,{className:"settings-modal__body",overlayClassName:"settings-modal__overlay",isOpen:r,contentLabel:"Settings Modal",onRequestClose:i,shouldCloseOnOverlayClick:!0,children:[Object(N.jsx)("button",{className:"settings-modal__close-modal-btn",onClick:i}),Object(N.jsx)("div",{className:"settings-modal__misc-section",children:Object(N.jsx)(H,{})}),Object(N.jsx)("div",{className:"settings-modal__state-deletion-section",children:Object(N.jsx)(M,{localStoreChangeHandler:t,toggleModal:i})})]})]})}}}]);
//# sourceMappingURL=3.faabb88c.chunk.js.map