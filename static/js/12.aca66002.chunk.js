(this["webpackJsonparena-data-parser"]=this["webpackJsonparena-data-parser"]||[]).push([[12],{234:function(e,n,t){"use strict";t.r(n);var u=t(6),l=t(4),a=t(0),o=t(100),i=t(14),c=t.n(i),r=t(1);n.default=function(e){var n=e.sessionData,t=e.onChange,i=Object(a.useMemo)((function(){return{value:0,label:"All Sessions"}}),[]),s=Object(a.useState)([]),v=Object(l.a)(s,2),d=v[0],f=v[1],p=Object(a.useRef)(d);p.current=d;var b=Object(a.useMemo)((function(){return Object(u.a)(n.keys())}),[n]),O=Object(a.useMemo)((function(){return b.reduce((function(e,n,t){var u=c.a.unix(n).format("DD/MM/YY");return e.push({value:n,label:"Session ".concat(t+1," - ").concat(u)}),e}),[]).reverse()}),[b]),j=Object(a.useCallback)((function(){var e;return(null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.length)===O.length}),[O.length]),h=Object(a.useCallback)((function(e,n){var l=[],a=n.action,o=n.option,c=n.removedValue;if("select-option"===a&&(null===o||void 0===o?void 0:o.value)===i.value)f(O),l.push.apply(l,Object(u.a)(O.map((function(e){return null===e||void 0===e?void 0:e.value}))));else if("deselect-option"===a&&(null===o||void 0===o?void 0:o.value)===i.value||"remove-value"===a&&(null===c||void 0===c?void 0:c.value)===i.value)f([]);else if("deselect-option"===n.action&&j()){var r=O.filter((function(e){return e.value!==(null===o||void 0===o?void 0:o.value)}));f(r),l.push.apply(l,Object(u.a)(r.map((function(e){return null===e||void 0===e?void 0:e.value}))))}else f(e||[]),l.push.apply(l,Object(u.a)(e.map((function(e){return null===e||void 0===e?void 0:e.value}))));t&&t(l)}),[j,t,O,i.value]);Object(a.useEffect)((function(){if(d.length){var e=!0;d.map((function(e){return null===e||void 0===e?void 0:e.value})).forEach((function(n){b.includes(n)||(e=!1)})),e||f([])}}),[d,b]),Object(a.useEffect)((function(){O.length&&f((function(e){return e?[]:[O[0]]})),h([O[0]],{action:"select-option",option:O[0]})}),[O,h]);var m=Object(a.useCallback)((function(){return j()?[i]:d}),[j,i,d]);return Object(r.jsx)(o.a,{placeholder:"Select session...",className:"session-select",classNamePrefix:"session-select",isOptionSelected:function(e){var n;return j()||(null===p||void 0===p||null===(n=p.current)||void 0===n?void 0:n.some((function(n){return n.value===e.value})))},options:[i].concat(Object(u.a)(O)),value:m(),onChange:h,hideSelectedOptions:!1,closeMenuOnSelect:!1,isMulti:!0})}}}]);
//# sourceMappingURL=12.aca66002.chunk.js.map